<?xml version="1.0" encoding="utf-8" ?>
<ContentPage
    x:Class="EscapeRankUI.Views.Partida.PartidaPage"
    xmlns="http://xamarin.com/schemas/2014/forms"
    xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml">

   <Shell.TitleView>
        <Grid>
            <Label
                Text="Partida"
                Style="{StaticResource texto_cabecera4}"
                VerticalOptions="Center"
                HorizontalOptions="Center">
            </Label>
            <Switch
                IsToggled="{Binding Cargando}"
                Toggled="ActivarSwitchTema"
                OnColor="{StaticResource negro1}"
                HorizontalOptions="End"
                VerticalOptions="Center"/>
        </Grid>
    </Shell.TitleView>

    <ContentPage.Content>

   <Grid>
        <BoxView BackgroundColor="{DynamicResource variable1}"/>
          <StackLayout VerticalOptions="Fill" >
                <StackLayout VerticalOptions="CenterAndExpand" Spacing="7">

                  <Label Text="Equipos:" HorizontalOptions="Start" Style="{StaticResource texto_titulo1}"/>

                  <Picker ItemsSource="{Binding Usuario.ListaEquipos}"
                        ItemDisplayBinding="{Binding Nombre}"
                        SelectedItem="{Binding Id}"
                        Title="Selecciona Equipo..."
                        HorizontalOptions="FillAndExpand"
                        BackgroundColor="{DynamicResource variable2}"
                        TextColor="{DynamicResource variable4}"
                        TitleColor="{DynamicResource variable4}"/>

                <Label Text="Fecha:" Style="{StaticResource texto_titulo1}"/>

                <DatePicker Format="D"
                            BackgroundColor="{DynamicResource variable2}"
                            TextColor="{DynamicResource variable4}"/>

                <Label Text="Hora:" Style="{StaticResource texto_titulo1}"/>

                <TimePicker x:Name="_timePicker" Format="HH:mm"
                            BackgroundColor="{DynamicResource variable2}"
                            TextColor="{DynamicResource variable4}"/>

                <Label Text="Duración Sala"
                       Style="{StaticResource texto_titulo1}"
                       Padding="0,10,0,0"
                       HorizontalOptions="CenterAndExpand"
                       VerticalOptions="Center" />

                <Label x:Name="_displayLabel"
                       Text="{Binding Source={x:Reference duracionPartida},
                       Path=Value, StringFormat='{0:F0} minutos'}"
                       Style="{StaticResource texto_subtitulo5}"
                       HorizontalOptions="Center"
                       VerticalOptions="Center"/>

                <Stepper x:Name="duracionPartida"
                         Maximum="180" Increment="5" Value="60"
                         HorizontalOptions="Center"
                         BackgroundColor="{StaticResource gris2}"/>

                <Label Text="Duración Partida"
                       Style="{StaticResource texto_titulo1}"
                       Padding="0,10,0,0"
                       HorizontalOptions="CenterAndExpand"
                       VerticalOptions="Center" />

                <StackLayout Orientation="Horizontal" HorizontalOptions="Center" Spacing="8">
                    <StackLayout Orientation="Vertical" VerticalOptions="Center" Spacing="5">

                        <Label x:Name="_displayPartidaMinutosLabel"
                               Text="{Binding Source={x:Reference minutos}, Path=Value, StringFormat='{0:F0} minutos'}"
                               Style="{StaticResource texto_subtitulo5}"
                               HorizontalOptions="Center"
                               VerticalOptions="Center"/>

                        <Stepper x:Name="minutos" Maximum="180" Increment="1" Value="60" HorizontalOptions="Center"
                        BackgroundColor="{StaticResource gris2}"/>

                    </StackLayout>
                    <StackLayout Orientation="Vertical" Spacing="5" >

                        <Label x:Name="_displayPartidaSegundosLabel"
                               Text="{Binding Source={x:Reference segundos}, Path=Value, StringFormat='{0:F0} segundos'}"
                               Style="{StaticResource texto_subtitulo5}"
                               HorizontalOptions="Center"
                               VerticalOptions="Center"/>

                        <Stepper x:Name="segundos" Maximum="59" Increment="1" Value="30" HorizontalOptions="Center"
                        BackgroundColor="{StaticResource gris2}"/>

                    </StackLayout>
                </StackLayout>

                <StackLayout Margin="20" Spacing="10">

                    <Button Text="Validar Partida"
                            Style="{StaticResource estilo_boton1}"
                            HorizontalOptions="Center"
                            Visual="Material"/>

                    <Button Text="Enviar"
                            Style="{StaticResource estilo_boton1}" 
                            HorizontalOptions="Center"
                            Visual="Material"/>

                </StackLayout> 
            </StackLayout>
              </StackLayout>
        </Grid>
    </ContentPage.Content>
</ContentPage>