<?xml version="1.0" encoding="UTF-8"?>
<ContentPage x:Class="EscapeRankUI.Views.EquipoDetallePage"
             xmlns="http://xamarin.com/schemas/2014/forms"
             xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
             xmlns:recursos="clr-namespace:EscapeRankUI.Recursos"
             BackgroundColor="{DynamicResource variable1}"
             Title="{Binding Equipo.Nombre}">

    <ContentPage.Content>
        <ScrollView>
            <StackLayout Style="{StaticResource espacio_stack_normal}" Margin="0,20">
                <Frame
                CornerRadius="45"
                OutlineColor="{DynamicResource variable4}"
                Visual="Material"
                 HorizontalOptions="CenterAndExpand">
                    <Image
                   Source="{Binding Equipo.Avatar}"
                   WidthRequest="90"
                   HeightRequest="90"
                   Aspect="AspectFill" />
                </Frame>

                <Label         Margin="0,10,0,0"
                               Text="{Binding Equipo.Nombre}"
                               Style="{StaticResource texto_cabecera3}"
                               HorizontalTextAlignment="Center"/>

              
                <BoxView Margin="0,15,0,0"
                     BackgroundColor="{DynamicResource variable4}"
                            HeightRequest="1"/>

                <Label
                               Text="Integrantes"
                               Padding="15"
                               Style="{StaticResource texto_cabecera3}"
                               HorizontalTextAlignment="Center"/>

                 <FlexLayout
                                Wrap="Wrap"
                                JustifyContent="SpaceEvenly"
                                BindableLayout.ItemsSource="{Binding MiembrosEquipo}">

                        <BindableLayout.ItemTemplate>
                            <DataTemplate>
                                <StackLayout WidthRequest="70">
                                    <Frame
                                    OutlineColor="{DynamicResource variable4}"
                                    CornerRadius="36"
                                    Visual="Material">
                                        <Image
                                        Source="{Binding Avatar}"
                                        WidthRequest="70"
                                        HeightRequest="70"
                                        Aspect="AspectFill" />
                                    </Frame>
                                    <Label
                                        HorizontalTextAlignment="Center"
                                        Text="{Binding Nombre}"
                                         Style="{StaticResource texto_subtitulo3}" />
                                </StackLayout>
                            </DataTemplate>
                        </BindableLayout.ItemTemplate>
                    </FlexLayout>

                 <BoxView Margin="0,15,0,0"
                     BackgroundColor="{DynamicResource variable4}"
                            HeightRequest="1"/>
                 <Label
                               Text="Partidas"
                               Padding="15"
                               Style="{StaticResource texto_cabecera3}"
                               HorizontalTextAlignment="Center"/>

                 <FlexLayout
                                Wrap="Wrap"
                                JustifyContent="SpaceEvenly"
                                BindableLayout.ItemsSource="{Binding PartidasEquipo}">

                        <BindableLayout.ItemTemplate>
                            <DataTemplate>
                                <StackLayout Spacing="5">
                                    <Frame
                                    OutlineColor="{DynamicResource variable4}"
                                    Visual="Material"
                                    HeightRequest="70">
                                        <Image
                                        Source="{Binding Sala.ImagenUriEstrecha}"
                                        Aspect="AspectFill" />
                                    </Frame>
                                    <Label
                                        HorizontalTextAlignment="Center"
                                        Text="{Binding Sala.Nombre}"
                                        Style="{StaticResource texto_subtitulo3}"
                                        LineBreakMode="TailTruncation"
                                        MaxLines="3"/>
                                     <StackLayout
                                                    Orientation="Horizontal"
                                                    Spacing="5">
                                                <Image
                                                        Source="{StaticResource icono_reloj}"
                                                        VerticalOptions="Start" />
                                                 <Label
                                                        Text="{x:Static recursos:Strings.realizado_en}"
                                                        Style="{StaticResource texto_subtitulo9}"
                                                        LineBreakMode="TailTruncation" />
                                                <Label
                                                        Text="{Binding Horas,StringFormat='{0} :'}"
                                                        Style="{StaticResource texto_subtitulo5}"
                                                        LineBreakMode="TailTruncation" />
                                                <Label
                                                        Text="{Binding Minutos,StringFormat='{0} :'}"
                                                        Style="{StaticResource texto_subtitulo5}"
                                                        LineBreakMode="TailTruncation" />
                                                <Label
                                                        Text="{Binding Segundos}"
                                                        Style="{StaticResource texto_subtitulo5}"
                                                        LineBreakMode="TailTruncation" />
                                            </StackLayout>
                                     <StackLayout
                                                    Orientation="Horizontal"
                                                    Spacing="5">
                                    <Image
                                                        Source="{StaticResource icono_calendario_hoy}"
                                                        VerticalOptions="Start" />
                                     <Label
                                                        Text="{x:Static recursos:Strings.fecha}"
                                                        Style="{StaticResource texto_subtitulo9}"
                                                        LineBreakMode="TailTruncation" />
                                    <Label
                                                        Text="{Binding Fecha,StringFormat='{}{0:dd-MM-yyyy}'}"
                                                        Style="{StaticResource texto_subtitulo5}"
                                                        LineBreakMode="TailTruncation" />
                                         </StackLayout>
                                </StackLayout>
                            </DataTemplate>
                        </BindableLayout.ItemTemplate>
                    </FlexLayout>
            </StackLayout>
            </ScrollView>
    </ContentPage.Content>
</ContentPage>